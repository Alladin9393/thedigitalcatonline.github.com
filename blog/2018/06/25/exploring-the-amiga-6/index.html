<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
        <title>Exploring the Amiga - Part 6 - The Digital Cat</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/main.css" />
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/custom.css" />
<link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/retro.css" />
        
        <!-- Pygments CSS START -->
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/pygments/default.css">
        <!-- Pygments CSS END -->

        <link href="http://www.thedigitalcatonline.com/images/TheDigitalCat_favicon_32.png" rel="icon">

        <!-- Google Analytics Universal -->
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-74364524-1', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics Universal Code -->

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Article",
  "name" : "Exploring the Amiga - Part 6",
  "author" : {
    "@type" : "Person",
    "name" : "Leonardo Giordani"
  },
  "publisher" : {
    "@type" : "Organization",
    "name" : "The Digital Cat",
    "logo" : {
      "@type" : "ImageObject",
      "url" : "http://www.thedigitalcatonline.com/images/TheDigitalCat_logo_200.jpg",
      "height" : 200,
      "width" : 200
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-6/"
  },
  "datePublished" : "25/06/2018",
  "dateModified" : "12/02/2019",
  "image" : "http://www.thedigitalcatonline.com/images/exploring-the-amiga-6.jpg",
  "url" : "http://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-6/"
}
</script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

    <header id="header">
        <a class="logo" href="http://www.thedigitalcatonline.com/category/retro/" title="Retro">All posts in category Retro <i class="fa fa-link"></i></a>
        <div class="align-right">
            
            <a href="http://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/"><i class="fa fa-caret-square-left"></i></a>
            
            Exploring the Amiga #6

            <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/"><i class="fa fa-caret-square-right"></i></a>

        </div>
    </header>

    <!-- <article class="post"> -->

    <section id="header">
        <header class="main">
            <h1>Exploring the Amiga - Part 6</h1>
        </header>
    </section>

    <section id="post-info">
        <div class="align-center">
            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/assembly/">assembly</a>            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/amiga/">amiga</a>            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/retroprogramming/">retroprogramming</a>        </div>

        <div class="align-center">
            By <a href="http://www.thedigitalcatonline.com/authors/leonardo-giordani/">Leonardo Giordani</a>
            <span class="separator">•</span>

            Published on <time datetime="2018-06-25T13:00:00+01:00"> 25/06/2018</time>

            <span class="separator">•</span>
            Last update on
            <time datetime="2019-02-12T20:00:00+00:00"> 12/02/2019</time>
        </div>
    </section>

    <section id="content">
        <h1 id="memory-initialisation">Memory initialisation<a class="headerlink" href="#memory-initialisation" title="Permanent link">&para;</a></h1>
<p>The Amiga has two types of memory. The first one is found on-board and it is traditionally referred to as "Chip Memory". This name comes from the fact that both the CPU and the custom chips have access to it, which also means that all this components have to share the access. This slows down the CPU when the custom chips are using the memory. While they can use DMA to access it without blocking the CPU, the memory cannot be accessed by multiple components at the same time.</p>
<p>The second type of memory is called "Fast Memory" because the CPU has exclusive access to it, thus providing better performances. It is also referred to as "expansion memory" since it comes with expansion boards.</p>
<p>At a certain point during boot time Kickstart figures out the types of memory installed in the Amiga machine and puts the expansion memory size in <code>a4</code>. If this register contains a non-zero value, Kickstart knows that an expansion board has been installed and configures the memory accordingly.</p>
<p>The memory initialisation code is the following</p>
<div class="highlight"><pre><span></span><span class="m">00000380: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000382: 6724</span>                      <span class="k">beq.b</span>   <span class="mi">0x3a8</span>
<span class="m">00000384: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">00000388: 43fa ffa8</span>                 <span class="k">lea</span>     <span class="mi">0x332</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">0000038c: 7400</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">0000038e: 323c 0005</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x5</span><span class="p">,</span><span class="nv">d1</span>
<span class="m">00000392: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000394: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000396: 0480 0000 1800</span>            <span class="k">subi.l</span>  <span class="p">#</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">0000039c: 6100 1688</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
<span class="m">000003a0: 41f8 0400</span>                 <span class="k">lea</span>     <span class="mi">0x400</span><span class="p">.</span><span class="nl">w</span><span class="p">,</span><span class="nv">a0</span>
<span class="m">000003a4: 7000</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003a6: 600a</span>                      <span class="k">bra.b</span>   <span class="mi">0x3b2</span>
<span class="m">000003a8: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000003ac: 203c ffff e800</span>            <span class="k">move.l</span>  <span class="p">#-</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003b2: 323c 0003</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x3</span><span class="p">,</span><span class="nv">d1</span>
<span class="m">000003b6: 2448</span>                      <span class="k">movea.l</span> <span class="nv">a0</span><span class="p">,</span><span class="nv">a2</span>
<span class="m">000003b8: 43fa ff6c</span>                 <span class="k">lea</span>     <span class="mi">0x326</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">000003bc: 74f6</span>                      <span class="k">moveq</span>   <span class="p">#-</span><span class="mi">0xa</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">000003be: d08b</span>                      <span class="k">add.l</span>   <span class="nv">a3</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c0: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c2: 6100 1662</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
<span class="m">000003c6: 224e</span>                      <span class="k">movea.l</span> <span class="nv">a6</span><span class="p">,</span><span class="nv">a1</span>
<span class="m">000003c8: 6100 107e</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1448</span>
</pre></div>


<p>As I did in the previous post I will split the code in parts and replace some addresses with labels to try and make the routine more understandable</p>
<div class="highlight"><pre><span></span><span class="nl">Check_expansion:</span>
<span class="m">00000380: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000382: 6724</span>                      <span class="k">beq.b</span>   <span class="nl">Only_chip</span>

<span class="nl">Add_expansion:</span>
<span class="m">00000384: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">00000388: 43fa ffa8</span>                 <span class="k">lea</span>     <span class="mi">0x332</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">0000038c: 7400</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">0000038e: 323c 0005</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x5</span><span class="p">,</span><span class="nv">d1</span>
<span class="m">00000392: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000394: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000396: 0480 0000 1800</span>            <span class="k">subi.l</span>  <span class="p">#</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">0000039c: 6100 1688</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
<span class="m">000003a0: 41f8 0400</span>                 <span class="k">lea</span>     <span class="mi">0x400</span><span class="p">.</span><span class="nl">w</span><span class="p">,</span><span class="nv">a0</span>
<span class="m">000003a4: 7000</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003a6: 600a</span>                      <span class="k">bra.b</span>   <span class="nl">Add_chip</span>

<span class="nl">Only_chip:</span>
<span class="m">000003a8: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000003ac: 203c ffff e800</span>            <span class="k">move.l</span>  <span class="p">#-</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>

<span class="nl">Add_chip:</span>
<span class="m">000003b2: 323c 0003</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x3</span><span class="p">,</span><span class="nv">d1</span>
<span class="m">000003b6: 2448</span>                      <span class="k">movea.l</span> <span class="nv">a0</span><span class="p">,</span><span class="nv">a2</span>
<span class="m">000003b8: 43fa ff6c</span>                 <span class="k">lea</span>     <span class="mi">0x326</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">000003bc: 74f6</span>                      <span class="k">moveq</span>   <span class="p">#-</span><span class="mi">0xa</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">000003be: d08b</span>                      <span class="k">add.l</span>   <span class="nv">a3</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c0: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c2: 6100 1662</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
<span class="m">000003c6: 224e</span>                      <span class="k">movea.l</span> <span class="nv">a6</span><span class="p">,</span><span class="nv">a1</span>
<span class="m">000003c8: 6100 107e</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1448</span>
</pre></div>


<p>The two addresses <code>0x326</code> and <code>0x332</code> mentioned in the code contain the two zero-terminated strings <code>Chip Memory</code> and <code>Fast Memory</code></p>
<div class="highlight"><pre><span></span><span class="c">; ################################################################</span>
<span class="c">; &#39;Chip Memory&#39; string</span>

<span class="m">00000326: 43</span> <span class="c">; C</span>
<span class="m">00000327: 68</span> <span class="c">; h</span>
<span class="m">00000328: 69</span> <span class="c">; i</span>
<span class="m">00000329: 70</span> <span class="c">; p</span>
<span class="m">0000032a: 20</span> <span class="c">; SP</span>
<span class="m">0000032b: 4d</span> <span class="c">; M</span>
<span class="m">0000032c: 65</span> <span class="c">; e</span>
<span class="m">0000032d: 6d</span> <span class="c">; m</span>
<span class="m">0000032e: 6f</span> <span class="c">; o</span>
<span class="m">0000032f: 72</span> <span class="c">; r</span>
<span class="m">00000330: 79</span> <span class="c">; y</span>
<span class="m">00000331: 00</span> <span class="c">; NUL</span>

<span class="c">; ################################################################</span>
<span class="c">; &#39;Fast Memory&#39; string</span>

<span class="m">00000332: 46</span> <span class="c">; F</span>
<span class="m">00000333: 61</span> <span class="c">; a</span>
<span class="m">00000334: 73</span> <span class="c">; s</span>
<span class="m">00000335: 74</span> <span class="c">; t</span>
<span class="m">00000336: 20</span> <span class="c">; SP</span>
<span class="m">00000337: 4d</span> <span class="c">; M </span>
<span class="m">00000338: 65</span> <span class="c">; e</span>
<span class="m">00000339: 6d</span> <span class="c">; m</span>
<span class="m">0000033a: 6f</span> <span class="c">; o</span>
<span class="m">0000033b: 72</span> <span class="c">; r</span>
<span class="m">0000033c: 79</span> <span class="c">; y</span>
<span class="m">0000033d: 00</span> <span class="c">; NUL</span>
</pre></div>


<p>Let's analyse the code line by line.</p>
<div class="highlight"><pre><span></span><span class="nl">Check_expansion:</span>
<span class="m">00000380: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000382: 6724</span>                      <span class="k">beq.b</span>   <span class="nl">Only_chip</span>
</pre></div>


<p>The first thing that Kickstart does is to check if <code>a4</code> contains a non-zero value, which signals that we have a memory expansion board available. If <code>a4</code> is zero the code jumps to the part that initialises chip memory only.</p>
<div class="highlight"><pre><span></span><span class="nl">Add_expansion:</span>
<span class="m">00000384: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">00000388: 43fa ffa8</span>                 <span class="k">lea</span>     <span class="mi">0x332</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
</pre></div>


<p>The code then loads two effective addresses. The first one is the first free memory location (<code>0x24c</code>) and the second one is the string <code>Fast Memory</code>. The reason behind the address <code>0x24c</code> is explained in a later section in detail.</p>
<p>The purpose of the code is to call the <code>AddMemList</code> routine, which adds the memory to the system free memory pool. It has the following prototype</p>
<div class="highlight"><pre><span></span>size = AddMemList(size, attributes, pri, base, name)
D0                D0    D1          D2   A0    A1
</pre></div>


<p>where <code>size</code> is the size of the memory (bytes), <code>attributes</code> contains flags that identify memory attributes, <code>pri</code> is the priority of the memory, <code>base</code> is the base address of the new area and <code>name</code> is a name for this list.</p>
<div class="highlight"><pre><span></span><span class="m">0000038c: 7400</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">0000038e: 323c 0005</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x5</span><span class="p">,</span><span class="nv">d1</span>
</pre></div>


<p>The code then prepares the registers for the <code>AddMemList</code> call. It gives this memory priority <code>0</code> and sets the <code>attributes</code> flags to <code>0x5</code>, which is <code>101</code>, or <code>PUBLIC</code> and <code>FAST</code> (see <code>include_i/exec/memory.i</code>).</p>
<div class="highlight"><pre><span></span><span class="m">00000392: 200c</span>                      <span class="k">move.l</span>  <span class="nv">a4</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000394: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">00000396: 0480 0000 1800</span>            <span class="k">subi.l</span>  <span class="p">#</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">0000039c: 6100 1688</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
</pre></div>


<p>The expansion memory base address is copied in <code>d0</code> (this is actually an unneeded repetition of what the code did 6 lines before, I think). It then subtracts the address of the first free location (because if this is not 0 it means that something is already stored in memory) and the size of the stack, that was initialised previously by Kickstart to 6 KBytes (hardcoded). After that the code jumps to <code>AddMemList</code> (<code>0x1a26</code>).</p>
<p>When the routine returns the code begins the initialisation of the chip memory. The chip memory has to be initialised in two different ways depending on the presence of the expansion memory, as the latter is preferably used by the CPU.</p>
<div class="highlight"><pre><span></span><span class="m">000003a0: 41f8 0400</span>                 <span class="k">lea</span>     <span class="mi">0x400</span><span class="p">.</span><span class="nl">w</span><span class="p">,</span><span class="nv">a0</span>
<span class="m">000003a4: 7000</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003a6: 600a</span>                      <span class="k">bra.b</span>   <span class="nl">Add_chip</span>

<span class="nl">Only_chip:</span>
<span class="m">000003a8: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000003ac: 203c ffff e800</span>            <span class="k">move.l</span>  <span class="p">#-</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
</pre></div>


<p>If the initial test on the presence of the expansion memory fails the code jumps directly to <code>0x03a8</code>. If the expansion memory has already been initialised, instead, the CPU executes the code at <code>0x03a0</code> and then jumps to <code>0x03b2</code> (Renamed <code>Add_chip</code> here).</p>
<div class="highlight"><pre><span></span><span class="m">000003a0: 41f8 0400</span>                 <span class="k">lea</span>     <span class="mi">0x400</span><span class="p">.</span><span class="nl">w</span><span class="p">,</span><span class="nv">a0</span>
</pre></div>


<p>So if there is expansion memory, Exec will be loaded there, which means that both it and the system stack are not in the chip memory. We can then add the whole space above <code>0x400</code> (more on this number in a later section)</p>
<div class="highlight"><pre><span></span><span class="m">000003a4: 7000</span>                      <span class="k">moveq</span>   <span class="p">#</span><span class="mi">0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003a6: 600a</span>                      <span class="k">bra.b</span>   <span class="nl">Add_chip</span>
</pre></div>


<p>Since the stack has already been created in fast memory we can store a 0 in <code>d0</code> and jump to the code that adds the memory to the system lists</p>
<p>If the expansion is not present, instead, Exec is installed in the chip memory, so we compute the base like we did for the fast memory.</p>
<div class="highlight"><pre><span></span><span class="nl">Only_chip:</span>
<span class="m">000003a8: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000003ac: 203c ffff e800</span>            <span class="k">move.l</span>  <span class="p">#-</span><span class="mi">0x1800</span><span class="p">,</span><span class="nv">d0</span>
</pre></div>


<p>Here we load the effective address of the first free location, <code>0x24c</code> bytes after the ExecBase address, and we specify the size of the memory as 6 Kbytes less than the maximum, to keep some space for the system stack. The size is negative as later the memory size will be added to the register.</p>
<div class="highlight"><pre><span></span><span class="nl">Add_chip:</span>
<span class="m">000003b2: 323c 0003</span>                 <span class="k">move.w</span>  <span class="p">#</span><span class="mi">0x3</span><span class="p">,</span><span class="nv">d1</span>
<span class="m">000003b6: 2448</span>                      <span class="k">movea.l</span> <span class="nv">a0</span><span class="p">,</span><span class="nv">a2</span>
<span class="m">000003b8: 43fa ff6c</span>                 <span class="k">lea</span>     <span class="mi">0x326</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">000003bc: 74f6</span>                      <span class="k">moveq</span>   <span class="p">#-</span><span class="mi">0xa</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">000003be: d08b</span>                      <span class="k">add.l</span>   <span class="nv">a3</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c0: 9088</span>                      <span class="k">sub.l</span>   <span class="nv">a0</span><span class="p">,</span><span class="nv">d0</span>
<span class="m">000003c2: 6100 1662</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1a26</span>
</pre></div>


<p>After this we repeat the same procedure that was described for the fast memory. The attributes are now <code>CHIP</code> and <code>PUBLIC</code> (<code>0x3</code>), the string at <code>0x326</code> is <code>Chip Memory</code>, and the priority is -10 (<code>-0xa</code>). The <code>a3</code> register already contains the end address of the chip memory, so we add it to <code>d0</code> and then subtract the first free location computed before to get the size of the memory. As happened before, the routine calls <code>AddMemList</code> at <code>0x1a26</code>.</p>
<div class="highlight"><pre><span></span><span class="m">000003c6: 224e</span>                      <span class="k">movea.l</span> <span class="nv">a6</span><span class="p">,</span><span class="nv">a1</span>
<span class="m">000003c8: 6100 107e</span>                 <span class="k">bsr.w</span>   <span class="mi">0x1448</span>
</pre></div>


<p>The last action of this part of the code is to call <code>AddLibrary</code> at <code>0x1448</code>. The only parameter the routine requires is the base address of the library in <code>a1</code>, which is why the code copies <code>a6</code> there.</p>
<h1 id="the-magic-number-0x24c">The "magic number" <code>0x24c</code><a class="headerlink" href="#the-magic-number-0x24c" title="Permanent link">&para;</a></h1>
<p>When we discussed the way the memory is initialised we discovered a "magic number" that Kickstart uses to find the first free location in memory</p>
<div class="highlight"><pre><span></span><span class="m">00000384: 41ee 024c</span>                 <span class="k">lea</span>     <span class="mi">0x24c</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a0</span>
</pre></div>


<p>The first free location, according to this code is <code>0x24c</code> (588) bytes after the Exec base address. The reason behind this number is simple. When the Exec library is installed its structures use exactly 588 bytes, thus that is the address of the first free space in memory.</p>
<p>It's easy to calculate this number. Here you find the annotated version of the <code>ExecBase</code> structure that I already used in the previous instalment.</p>
<p>The structure is described in the <code>include_i/exec/execbase.i</code> include file, and I added the displacement in bytes of each field. The first column is the displacement in the <code>ExecBase</code> structure, while the second starts from <code>0x22</code>. The latter comes from the fact that the structure follows an <code>LN</code> structure and a <code>LIB</code> structure, described in the fourth instalment of this series.</p>
<div class="highlight"><pre><span></span><span class="nv">0000</span> <span class="mi">0022</span><span class="s">    UWORD   SoftVer</span>
<span class="nv">0002</span> <span class="mi">0024</span><span class="s">    WORD    LowMemChkSum</span>
<span class="nv">0004</span> <span class="mi">0026</span><span class="s">    ULONG   ChkBase</span>
<span class="nv">0008</span> <span class="mi">002a</span><span class="s">    APTR    ColdCapture</span>
<span class="nv">000c</span> <span class="mi">002e</span><span class="s">    APTR    CoolCapture</span>
<span class="nv">0010</span> <span class="mi">0032</span><span class="s">    APTR    WarmCapture</span>
<span class="nv">0014</span> <span class="mi">0036</span><span class="s">    APTR    SysStkUpper</span>
<span class="nv">0018</span> <span class="mi">003a</span><span class="s">    APTR    SysStkLower</span>
<span class="nv">001c</span> <span class="mi">003e</span><span class="s">    ULONG   MaxLocMem</span>
<span class="nv">0020</span> <span class="mi">0042</span><span class="s">    APTR    DebugEntry</span>
<span class="nv">0024</span> <span class="mi">0046</span><span class="s">    APTR    DebugData</span>
<span class="nv">0028</span> <span class="mi">004a</span><span class="s">    APTR    AlertData</span>
<span class="nv">002c</span> <span class="mi">004e</span><span class="s">    APTR    MaxExtMem</span>

<span class="nv">0030</span> <span class="mi">0052</span><span class="s">    WORD    ChkSum</span>


<span class="c">******* Interrupt Related ********************************************</span>

    <span class="nv">LABEL</span>   <span class="s">IntVects</span>
<span class="nv">0032</span> <span class="mi">0054</span><span class="s">    STRUCT  IVTBE</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">003e</span> <span class="mi">0060</span><span class="s">    STRUCT  IVDSKBLK</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">004a</span> <span class="mi">006c</span><span class="s">    STRUCT  IVSOFTINT</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0056</span> <span class="mi">0078</span><span class="s">    STRUCT  IVPORTS</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0062</span> <span class="mi">0084</span><span class="s">    STRUCT  IVCOPER</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">006e</span> <span class="mi">0090</span><span class="s">    STRUCT  IVVERTB</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">007a</span> <span class="mi">009c</span><span class="s">    STRUCT  IVBLIT</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0086</span> <span class="mi">00a8</span><span class="s">    STRUCT  IVAUD0</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0092</span> <span class="mi">00b4</span><span class="s">    STRUCT  IVAUD1</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">009e</span> <span class="mi">00c0</span><span class="s">    STRUCT  IVAUD2</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00aa</span> <span class="mi">00cc</span><span class="s">    STRUCT  IVAUD3</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00b6</span> <span class="mi">00d8</span><span class="s">    STRUCT  IVRBF</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00c2</span> <span class="mi">00e4</span><span class="s">    STRUCT  IVDSKSYNC</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00ce</span> <span class="mi">00f0</span><span class="s">    STRUCT  IVEXTER</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00da</span> <span class="mi">00fc</span><span class="s">    STRUCT  IVINTEN</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00e6</span> <span class="mi">0108</span><span class="s">    STRUCT  IVNMI</span><span class="p">,</span><span class="s">IV_SIZE</span>


<span class="c">******* Dynamic System Variables *************************************</span>

<span class="nv">00f2</span> <span class="mi">0114</span><span class="s">    APTR    ThisTask</span>

<span class="nv">00f6</span> <span class="mi">0118</span><span class="s">    ULONG   IdleCount</span>
<span class="nv">00fa</span> <span class="mi">011c</span><span class="s">    ULONG   DispCount</span>
<span class="nv">00fe</span> <span class="mi">0120</span><span class="s">    UWORD   Quantum</span>
<span class="nv">0100</span> <span class="mi">0122</span><span class="s">    UWORD   Elapsed</span>
<span class="nv">0102</span> <span class="mi">0124</span><span class="s">    UWORD   SysFlags</span>
<span class="nv">0104</span> <span class="mi">0126</span><span class="s">    BYTE    IDNestCnt</span>
<span class="nv">0105</span> <span class="mi">0127</span><span class="s">    BYTE    TDNestCnt</span>

<span class="nv">0106</span> <span class="mi">0128</span><span class="s">    UWORD   AttnFlags</span>

<span class="nv">0108</span> <span class="mi">012a</span><span class="s">    UWORD   AttnResched</span>
<span class="nv">010a</span> <span class="mi">012c</span><span class="s">    APTR    ResModules</span>
<span class="nv">010e</span> <span class="mi">0130</span><span class="s">    APTR    TaskTrapCode</span>
<span class="nv">0112</span> <span class="mi">0134</span><span class="s">    APTR    TaskExceptCode</span>
<span class="nv">0116</span> <span class="mi">0138</span><span class="s">    APTR    TaskExitCode</span>
<span class="nv">011a</span> <span class="mi">013c</span><span class="s">    ULONG   TaskSigAlloc</span>
<span class="nv">011e</span> <span class="mi">0140</span><span class="s">    UWORD   TaskTrapAlloc</span>


<span class="c">******* System List Headers (private!) ********************************</span>

<span class="nv">0120</span> <span class="mi">0142</span><span class="s">    STRUCT  MemList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">012e</span> <span class="mi">0150</span><span class="s">    STRUCT  ResourceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">013c</span> <span class="mi">015e</span><span class="s">    STRUCT  DeviceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">014a</span> <span class="mi">016c</span><span class="s">    STRUCT  IntrList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0158</span> <span class="mi">017a</span><span class="s">    STRUCT  LibList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0166</span> <span class="mi">0188</span><span class="s">    STRUCT  PortList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0174</span> <span class="mi">0196</span><span class="s">    STRUCT  TaskReady</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0182</span> <span class="mi">01a4</span><span class="s">    STRUCT  TaskWait</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0190</span> <span class="mi">01b2</span><span class="s">    STRUCT  SoftInts</span><span class="p">,</span><span class="s">SH_SIZE*5</span>

<span class="nv">01e0</span> <span class="mi">0202</span><span class="s">    STRUCT  LastAlert</span><span class="p">,</span><span class="mi">4</span><span class="s">*4</span>

<span class="nv">01f0</span> <span class="mi">0212</span><span class="s">    UBYTE   VBlankFrequency</span>
<span class="nv">01f1</span> <span class="mi">0213</span><span class="s">    UBYTE   PowerSupplyFrequency</span>

<span class="nv">01f2</span> <span class="mi">0214</span><span class="s">    STRUCT  SemaphoreList</span><span class="p">,</span><span class="s">LH_SIZE</span>

<span class="nv">0200</span> <span class="mi">0222</span><span class="s">    APTR    KickMemPtr</span>
<span class="nv">0204</span> <span class="mi">0226</span><span class="s">    APTR    KickTagPtr</span>
<span class="nv">0208</span> <span class="mi">022a</span><span class="s">    APTR    KickCheckSum</span>

<span class="nv">020c</span> <span class="mi">022e</span><span class="s">    UBYTE   ExecBaseReserved</span><span class="err">[</span><span class="mi">10</span><span class="err">]</span><span class="c">;</span>
<span class="mi">0216</span><span class="s"> 0238    UBYTE   ExecBaseNewReserved</span><span class="err">[</span><span class="mi">20</span><span class="err">]</span><span class="c">;</span>
<span class="mi">022a</span><span class="s"> 024c    LABEL   SYSBASESIZE</span>
</pre></div>


<p>The include file that I found in the Amiga Developer CD has a slightly different version of this structure that contains fields from higher versions of Exec. This structure can be found in the Amiga System Programmer's Guide, page 308. You can easily find the definitions of values like <code>SH_SIZE</code> in the include files contained in the <code>include_i/exec/</code> directory.</p>
<p>As you can see the final address is <code>0x24c</code>, which is exactly where the free memory begins (remember that <code>LABEL</code> is a macro and not a field, so it doesn't use space).</p>
<h1 id="the-magic-numbers-0x676-and-0x400">The "magic numbers" <code>0x676</code> and <code>0x400</code><a class="headerlink" href="#the-magic-numbers-0x676-and-0x400" title="Permanent link">&para;</a></h1>
<p>The Motorola 68000 architecture forces to reserve the first 1024 bytes (<code>0x400</code>) for the exception vectors. The table of these vectors can be found in the Programmer's Reference Manual, page B-2, and this is the source for the magic number used when adding the chip memory to the system lists in case an expansion memory is installed.</p>
<p>The Exec base address, however, is not <code>0x400</code> but <code>0x676</code>. As we already know the library is preceded by the jump table, and since Exec exports 105 functions we use <code>105*6 = 630</code> bytes for the jump vectors. Adding these 630 bytes to the first 1024 reserved for the exception vectors gives 1654 (<code>0x676</code>) as the base address of the library.</p>
<div class="highlight"><pre><span></span>        <span class="o">+---------------------------------------+</span>
        <span class="o">|</span> <span class="n">First</span> <span class="n">free</span> <span class="n">address</span>                    <span class="o">|</span>
   <span class="mi">2242</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x8c2</span> <span class="o">&lt;-+</span>
        <span class="o">|</span> <span class="n">ExecBase</span> <span class="n">structure</span>                    <span class="o">|</span>         <span class="o">|</span>
   <span class="mi">1688</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x698</span>   <span class="o">|</span>
        <span class="o">|</span> <span class="n">LIB</span> <span class="n">structure</span>                         <span class="o">|</span>         <span class="o">|</span> <span class="n">Exec</span> <span class="n">base</span>
   <span class="mi">1668</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x684</span>   <span class="o">|</span> <span class="n">structure</span>
        <span class="o">|</span> <span class="n">LN</span> <span class="n">structure</span>                          <span class="o">|</span>         <span class="o">|</span>
   <span class="mi">1654</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x676</span> <span class="o">&lt;-+</span>
        <span class="o">|</span> <span class="n">Jump</span> <span class="n">vector</span> <span class="err">#</span><span class="mi">105</span>                      <span class="o">|</span>         <span class="o">|</span>
        <span class="o">+---------------------------------------+</span>         <span class="o">|</span>
        <span class="o">|</span> <span class="p">[...]</span>                                 <span class="o">|</span>         <span class="o">|</span>
        <span class="o">+---------------------------------------+</span>         <span class="o">|</span> <span class="n">Exec</span> <span class="n">jump</span>
        <span class="o">|</span> <span class="n">Jump</span> <span class="n">vector</span> <span class="err">#</span><span class="mi">2</span>                        <span class="o">|</span>         <span class="o">|</span> <span class="n">vector</span> <span class="n">table</span>
   <span class="mi">1030</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x406</span>   <span class="o">|</span>
        <span class="o">|</span> <span class="n">Jump</span> <span class="n">vector</span> <span class="err">#</span><span class="mi">1</span>                        <span class="o">|</span>         <span class="o">|</span>
   <span class="mi">1024</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x400</span> <span class="o">&lt;-+</span>
        <span class="o">|</span> <span class="n">End</span> <span class="n">of</span> <span class="n">reserved</span> <span class="n">space</span>                 <span class="o">|</span>         <span class="o">|</span>
        <span class="o">+---------------------------------------+</span>         <span class="o">|</span>
        <span class="o">|</span> <span class="p">[...]</span>                                 <span class="o">|</span>         <span class="o">|</span>
     <span class="mi">12</span> <span class="o">+---------------------------------------+</span> <span class="mh">0xc</span>     <span class="o">|</span> <span class="mi">1</span> <span class="n">Kilobyte</span>
        <span class="o">|</span> <span class="n">Vector</span> <span class="err">#</span><span class="mi">2</span>                             <span class="o">|</span>         <span class="o">|</span> <span class="n">reserved</span> <span class="n">by</span>
      <span class="mi">8</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x8</span>     <span class="o">|</span> <span class="n">the</span> <span class="n">M68k</span>
        <span class="o">|</span> <span class="n">Reset</span> <span class="n">Initial</span> <span class="n">Program</span> <span class="n">Counter</span>         <span class="o">|</span>         <span class="o">|</span> <span class="n">architecture</span>
      <span class="mi">4</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x4</span>     <span class="o">|</span>
        <span class="o">|</span> <span class="n">Reset</span> <span class="n">Initial</span> <span class="n">Interrupt</span> <span class="n">Stack</span> <span class="n">Pointer</span> <span class="o">|</span>         <span class="o">|</span>
      <span class="mi">0</span> <span class="o">+---------------------------------------+</span> <span class="mh">0x0</span>   <span class="o">&lt;-+</span>
</pre></div>


<h1 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h1>
<p>It's time to show the complete Exec vector table, as we are going to use and analyse all the functions defined there. I will then discuss the structure of the memory list header and its relationship with linked lists. Last I will dissect the code of <code>AddMemList</code> and thus show in detail how the chip and expansion memory areas are added to to free memory pool.</p>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h1>
<ul>
<li>Microprocessor-based system design by Ricardo Gutierrez-Osuna (<a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/">slides</a>), in particular <a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/l9.pdf">Lesson 9 - Exception processing</a></li>
<li>Motorola M68000 Family Programmer's Reference Manual <a href="https://www.nxp.com/docs/en/reference-manual/M68000PRM.pdf">PDF here</a></li>
<li>Amiga System Programmers Guide, Abacus (<a href="https://archive.org/details/Amiga_System_Programmers_Guide_1988_Abacus">pdf here</a>)</li>
</ul>
<h1 id="feedback">Feedback<a class="headerlink" href="#feedback" title="Permanent link">&para;</a></h1>
<p>Feel free to reach me on <a href="https://twitter.com/thedigicat">Twitter</a> if you have questions. The <a href="http://github.com/TheDigitalCatOnline/thedigitalcatonline.github.com/issues">GitHub issues</a> page is the best place to submit corrections.</p>
    </section>

    <section id="related">

        <h1>Part 6 of the Exploring the Amiga series</h1>
        <div class="box">
            <h5>Previous articles</h5>
            <ul>
                <li><a href="http://www.thedigitalcatonline.com/blog/2018/05/28/exploring-the-amiga-1/">Exploring the Amiga - Part 1</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2018/05/28/exploring-the-amiga-2/">Exploring the Amiga - Part 2</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2018/06/08/exploring-the-amiga-3/">Exploring the Amiga - Part 3</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2018/06/14/exploring-the-amiga-4/">Exploring the Amiga - Part 4</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/">Exploring the Amiga - Part 5</a></li>
            </ul>
        
            <h5>Next articles</h5>
            <ul>
                <li><a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/">Exploring the Amiga - Part 7</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/">Exploring the Amiga - Part 8</a></li>
            </ul>
        </div>
    </section>



    <!-- </article> -->

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
<div class="inner">
    <!-- Menu -->
        <nav id="menu">
            <header class="major">
                <h2>Menu</h2>
            </header>
<ul>
    <li><a href="http://www.thedigitalcatonline.com/index.html">Homepage</a></li>
    <li><a href="http://www.thedigitalcatonline.com/pages/about.html">About</a></li>
    <li><a href="http://www.thedigitalcatonline.com/archives/">Archives</a></li>
    <li>
        <span class="opener">Categories</span>
        <ul>
            <li><a href="http://www.thedigitalcatonline.com/category/programming/">Programming</a></li>
            <li><a href="http://www.thedigitalcatonline.com/category/projects/">Projects</a></li>
            <li><a href="http://www.thedigitalcatonline.com/category/retro/">Retro</a></li>
        </ul>
    </li>
</ul>        </nav>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Feeds</h2>
            </header>
<ul class="list-clean">
    <li><a href="http://www.thedigitalcatonline.com/atom.xml"><i class="fa fa-rss"></i> All posts</a></li>


    <li><a href="http://www.thedigitalcatonline.com/category/retro/atom.xml"><i class="fa fa-rss"></i> All posts in category: Retro</a></li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Tags</h2>
            </header>
<ul class="list-inline list-clean" id="tags-side">
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/algorithms/">algorithms</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/amiga/">amiga</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/amqp/">AMQP</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/architectures/">architectures</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/assembly/">assembly</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/c/">C</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/clojure/">Clojure</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/compilers/">compilers</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/concurrent-programming/">concurrent programming</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/cryptography/">cryptography</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/decorators/">decorators</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/django/">Django</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/erlang/">Erlang</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/functional-programming/">functional programming</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/generators/">generators</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/git/">Git</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/m68000/">M68000</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/metaclasses/">metaclasses</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/metaprogramming/">metaprogramming</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/notebook/">Notebook</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/oop/">OOP</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/operating-systems/">operating systems</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/pika/">Pika</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/postage/">Postage</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/python/">Python</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/python2/">Python2</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/python3/">Python3</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/rabbitmq/">RabbitMQ</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/refactoring/">refactoring</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/retroprogramming/">retroprogramming</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/rsa/">RSA</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/scala/">Scala</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/ssh/">SSH</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/ssl/">SSL</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/tdd/">TDD</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/testing/">testing</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/versioning/">versioning</a>
    </li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Recent posts</h2>
            </header>
<div class="mini-posts">
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/03/04/motorola-68000-addressing-modes/" class="image"><img src="/images/mc68000.jpg" alt="" /></a>
        <p><strong>Motorola 68000: addressing modes</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/03/04/motorola-68000-addressing-modes/">Read</a></p> 
    </article>
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/" class="image"><img src="/images/exploring-the-amiga-8.jpg" alt="" /></a>
        <p><strong>Exploring the Amiga - Part 8</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/">Read</a></p> 
    </article>
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/" class="image"><img src="/images/exploring-the-amiga-7.jpg" alt="" /></a>
        <p><strong>Exploring the Amiga - Part 7</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/">Read</a></p> 
    </article>
</div>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Get in touch</h2>
            </header>
<ul class="contact">
    
    
    
    <li class="fa-twitter"><a href="https://twitter.com/thedigicat">Twitter</a></li>
    
    
    
    
    <li class="fa-github"><a href="https://github.com/TheDigitalCatOnline">GitHub</a></li>
    
</ul>        </section>

    <!-- Footer -->
        <footer id="footer">
            <p class="copyright">Editorial theme by: <a href="https://html5up.net">HTML5 UP</a>.</p>
            <p class="copyright">Cover picture by: <a href="https://pxhere.com/en/photo/1428515">An Min @ pxhere.com</a></p>
        </footer>

</div>					</div>

			</div>

		<!-- Scripts -->
			<script src="http://www.thedigitalcatonline.com/theme/js/jquery.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/browser.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/breakpoints.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/util.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/main.js"></script>

	</body>
</html>