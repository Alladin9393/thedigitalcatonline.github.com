<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
        <title>Python 3 OOP Part 4 - Polymorphism - The Digital Cat</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/main.css" />
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/custom.css" />
        
        <!-- Pygments CSS START -->
        <link rel="stylesheet" href="http://www.thedigitalcatonline.com/theme/css/pygments/default.css">
        <!-- Pygments CSS END -->

        <link href="http://www.thedigitalcatonline.com/images/TheDigitalCat_favicon_32.png" rel="icon">

        <!-- Google Analytics Universal -->
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-74364524-1', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics Universal Code -->

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Article",
  "name" : "Python 3 OOP Part 4 - Polymorphism",
  "author" : {
    "@type" : "Person",
    "name" : "Leonardo Giordani"
  },
  "publisher" : {
    "@type" : "Organization",
    "name" : "The Digital Cat",
    "logo" : {
      "@type" : "ImageObject",
      "url" : "http://www.thedigitalcatonline.com/images/TheDigitalCat_logo_200.jpg",
      "height" : 200,
      "width" : 200
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://www.thedigitalcatonline.com/blog/2014/08/21/python-3-oop-part-4-polymorphism/"
  },
  "datePublished" : "21/08/2014",
  "dateModified" : "21/12/2018",
  "image" : "http://www.thedigitalcatonline.com/images/python-3-oop.jpg",
  "url" : "http://www.thedigitalcatonline.com/blog/2014/08/21/python-3-oop-part-4-polymorphism/"
}
</script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

    <header id="header">
        <a class="logo" href="http://www.thedigitalcatonline.com/category/programming/" title="Programming">All posts in category Programming <i class="fa fa-link"></i></a>
        <div class="align-right">
            
            <a href="http://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-3-delegation-composition-and-inheritance/"><i class="fa fa-caret-square-left"></i></a>
            
            Python 3 OOP #4

            <a href="http://www.thedigitalcatonline.com/blog/2014/09/01/python-3-oop-part-5-metaclasses/"><i class="fa fa-caret-square-right"></i></a>

        </div>
    </header>

    <!-- <article class="post"> -->

    <section id="header">
        <header class="main">
            <h1>Python 3 OOP Part 4 - Polymorphism</h1>
        </header>
    </section>

    <section id="post-info">
        <div class="align-center">
            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/python/">Python</a>            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/python3/">Python3</a>            <a class="button special small" href="http://www.thedigitalcatonline.com/categories/oop/">OOP</a>        </div>

        <div class="align-center">
            By <a href="http://www.thedigitalcatonline.com/authors/leonardo-giordani/">Leonardo Giordani</a>
            <span class="separator">•</span>

            Published on <time datetime="2014-08-21T10:00:00+02:00"> 21/08/2014</time>

            <span class="separator">•</span>
            Last update on
            <time datetime="2018-12-21T10:40:00+00:00"> 21/12/2018</time>
        </div>
    </section>

    <section id="content">
        <p>This post is available as an <strong>IPython Notebook</strong> <a href="/notebooks/Python_3_OOP_Part_4__Polymorphism.ipynb">here</a></p>
<h2 id="good-morning-polymorphism">Good Morning, Polymorphism<a class="headerlink" href="#good-morning-polymorphism" title="Permanent link">&para;</a></h2>
<p>The term <em>polymorphism</em>, in the OOP lingo, refers to the ability of an object to adapt the code to the type of the data it is processing.</p>
<p>Polymorphism has two major applications in an OOP language. The first is that an object may provide different implementations of one of its methods depending on the type of the input parameters. The second is that code written for a given type of data may be used on data with a derived type, i.e. methods understand the class hierarchy of a type.</p>
<p>In Python polymorphism is one of the key concepts, and we can say that it is a built-in feature. Let us deal with it step by step.</p>
<p>First of all, you know that in Python the type of a variable is not explicitly declared. Beware that this does not mean that Python variables are <em>untyped</em>. On the contrary, everything in Python has a type, it just happens that the type is implicitly assigned. If you remember the last paragraph of the previous post, I stated that in Python variables are just pointers (using a C-like nomenclature), in other words they just tell the language <em>where</em> in memory a variable has been stored. What is stored at that address is not a business of the variable.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;class &#39;int&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&#39;0x83fe540&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">&#39;five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;class &#39;str&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&#39;0xb70d6560&#39;</span>
</pre></div>


<p>This little example shows a lot about the Python typing system. The variable <code>a</code> is not statically declared, after all it can contain only one type of data: a memory address. When we assign the number 5 to it, Python stores in <code>a</code> the <em>address</em> of the number 5 (<code>0x83fe540</code> in my case, but your result will be different). The <code>type()</code> built-in function is smart enough to understand that we are not asking about the type of <code>a</code> (which is always a reference), but about the type of the content. When you store another value in <code>a</code>, the string <code>'five'</code>, Python shamelessly replaces the previous content of the variable with the new address.</p>
<p>So, thanks to the reference system, Python type system is both <em>strong</em> and <em>dynamic</em>. The exact definition of those two concepts is not universal, so if you are interested be ready to dive into a broad matter. However, in Python, the meaning of those two words is the following:</p>
<ul>
<li>type system is <em>strong</em> because everything has a well-defined type that you can check with the <code>type()</code> built-in function</li>
<li>type system is <em>dynamic</em> since the type of a variable is not explicitly declared, but changes with the content</li>
</ul>
<p>Onward! We just scratched the surface of the whole thing.</p>
<p>To explore the subject a little more, try to define the simplest function in Python (apart from an empty function)</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></div>


<p>The function works as expected, just echoes the given parameter</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;five&#39;</span><span class="p">)</span>
<span class="go">&#39;five&#39;</span>
</pre></div>


<p>Pretty straightforward, isn't it? Well, if you come from a statically compiled language such as C or C++ you should be at least puzzled. What is <code>a</code>? I mean: what type of data does it contain? Moreover, how can Python know what it is returning if there is no type specification?</p>
<p>Again, if you recall the references stuff everything becomes clear: that function accepts a reference and returns a reference. In other words we just defined a sort of universal function, that does the same thing regardless of the input.</p>
<p>This is exactly the problem that polymorphism wants to solve. We want to describe an action regardless of the type of objects, and this is what we do when we talk among humans. When you describe how to move an object by pushing it, you may explain it using a box, but you expect the person you are addressing to be able to repeat the action even if you need to move a pen, or a book, or a bottle.</p>
<p>There are two main strategies you can apply to get code that performs the same operation regardless of the input types.</p>
<p>The first approach is to cover all cases, and this is a typical approach of procedural languages. If you need to sum two numbers that can be integers, float or complex, you just need to write three <code>sum()</code> functions, one bound to the integer type, the second bound to the float type and the third bound to the complex type, and to have some language feature that takes charge of choosing the correct implementation depending on the input type. This logic can be implemented by a compiler (if the language is statically typed) or by a runtime environment (if the language is dynamically typed) and is the approach chosen by C++. The disadvantage of this solution is that it requires the programmer to forecast all the possible situations: what if I need to sum an integer with a float? What if I need to sum two lists? (Please note that C++ is not so poorly designed, and the operator overloading technique allows to manage such cases, but the base polymorphism strategy of that language is the one exposed here).</p>
<p>The second strategy, the one implemented by Python, is simply to require the input objects to solve the problem for you. In other words you <em>ask the data itself to perform the operation</em>, reversing the problem. Instead of writing a bunch of functions that sum all the possible types in every possible combination you just write one function that requires the input data to sum, trusting that they know how to do it. Does it sound complex? It is not.</p>
<p>Let's look at the Python implementation of the <code>+</code> operator. When we write <code>c = a + b</code>, Python actually executes <code>c = a.__add__(b)</code>. As you can see the sum operation is delegated to the first input variable. So if we write</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>


<p>there is no need to specify the type of the two input variables. The object <code>a</code> (the object contained in the variable <code>a</code>) shall be able to sum with the object <code>b</code>. This is a very beautiful and simple implementation of the polymorphism concept. Python functions are polymorphic simply because they accept everything and trust the input data to be able to perform some actions.</p>
<p>Let us consider another simple example before moving on. The built-in <code>len()</code> function returns the length of the input object. For example</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Just a sentence&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">15</span>
</pre></div>


<p>As you can see it is perfectly polymorphic: you can feed both a list or a string to it and it just computes its length. Does it work with any type? let's check</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">Traceback  (most recent call last):</span>
<span class="go">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="go">TypeError: object of type &#39;int&#39; has no len()</span>
</pre></div>


<p>Ouch! Seems that the <code>len()</code> function is smart enough to deal with dictionaries, but not with integers. Well, after all, the length of an integer is not defined.</p>
<p>Indeed this is exactly the point of Python polymorphism: <em>the integer type does not define a length operation</em>. While you blame the <code>len()</code> function, the <code>int</code> type is at fault. The <code>len()</code> function just calls the <code>__len__()</code> method of the input object, as you can see from this code</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
<span class="go">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
<span class="go">Traceback  (most recent call last):</span>
<span class="go">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="go">AttributeError: &#39;int&#39; object has no attribute &#39;__len__&#39;</span>
</pre></div>


<p>Very straightforward: the <code>'int' object</code> does not define any <code>__len__()</code> method.</p>
<p>So, to sum up what we discovered until here, I would say that <em>Python polymorphism is based on delegation</em>. In the following sections we will talk about the <a href="https://docs.python.org/3/glossary.html#term-eafp">EAFP</a> Python principle, and you will see that the delegation principle is somehow ubiquitous in this language.</p>
<h2 id="type-hard">Type Hard<a class="headerlink" href="#type-hard" title="Permanent link">&para;</a></h2>
<p>Another real-life concept that polymorphism wants to bring into a programming language is the ability to walk the class hierarchy, that is <em>to run code on specialized types</em>. This is a complex sentence to say something we are used to do every day, and an example will clarify the matter.</p>
<p>You know how to open a door, it is something you learned in your early years. Under an OOP point of view you are an object (sorry, no humiliation intended) which is capable of interacting with a wood rectangle rotating on hinges. When you can open a door, however, you can also open a window, which, after all, is a specialized type of wood-rectangle-with-hinges, hopefully with some glass in it too. You are also able to open the car door, which is also a specialized type (this one is a mix between a standard door and a window). This shows that, once you know how to interact with the most generic type (basic door) you can also interact with specialized types (window, car door) as soon as they act like the ancestor type (e.g. as soon as they rotate on hinges).</p>
<p>This directly translates into OOP languages: polymorphism requires that <em>code written for a given type may also be run on derived types</em>. For example, a list (a generic list object, not a Python one) that can contain "numbers" shall be able to accept integers because they <em>are</em> numbers. The list could specify an ordering operation which requires the numbers to be able to compare each other. So, as soon as integers specify a way to compare each other they can be inserted into the list and ordered.</p>
<p>Statically compiled languages shall provide specific language features to implement this part of the polymorphism concept. In C++, for example, the language needs to introduce the concept of pointer compatibility between parent and child classes.</p>
<p>In Python there is no need to provide special language features to implement subtype polymorphism. As we already discovered Python functions accept any variable without checking the type and rely on the variable itself to provide the correct methods. But you already know that a subtype must provide the methods of the parent type, either redefining them or through implicit delegation, so as you can see Python implements subtype polymorphism from the very beginning.</p>
<p>I think this is one of the most important things to understand when working with this language. Python is not really interested in the actual type of the variables you are working with. It is interested in how those variables act, that is it just wants the variable <em>to provide the right methods</em>. So, if you come from statically typed languages, you need to make a special effort to think about <em>acting like</em> instead of <em>being</em>. This is what we called "duck typing".</p>
<p>Time to do an example. Let us define a <code>Room</code> class</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Room</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">door</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">door</span> <span class="o">=</span> <span class="n">door</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">is_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">is_open</span><span class="p">()</span>
</pre></div>


<p>A very simple class, as you can see, just enough to exemplify polymorphism. The <code>Room</code> class accepts a <code>door</code> variable, and the type of this variable is not specified. Duck typing in action: the actual type of <code>door</code> is not declared, there is no "acceptance test" built in the language. Indeed, the incoming variable shall export the following methods that are used in the <code>Room</code> class: <code>open()</code>, <code>close()</code>, <code>is_open()</code>. So we can build the following classes</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Door</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;closed&quot;</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;open&quot;</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;closed&quot;</span>

    <span class="k">def</span> <span class="nf">is_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;open&quot;</span>


<span class="k">class</span> <span class="nc">BooleanDoor</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">is_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>
</pre></div>


<p>Both represent a door that can be open or closed, and they implement the concept in two different ways: the first class relies on strings, while the second leverages booleans. Despite <em>being</em> two different types, both <em>act</em> the same way, so both can be used to build a <code>Room</code> object.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">door</span> <span class="o">=</span> <span class="n">Door</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_door</span> <span class="o">=</span> <span class="n">BooleanDoor</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">room</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="n">door</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_room</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="n">bool_door</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">room</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">room</span><span class="o">.</span><span class="n">is_open</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">room</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">room</span><span class="o">.</span><span class="n">is_open</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_room</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_room</span><span class="o">.</span><span class="n">is_open</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_room</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bool_room</span><span class="o">.</span><span class="n">is_open</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>


<h2 id="file-like-us">File Like Us<a class="headerlink" href="#file-like-us" title="Permanent link">&para;</a></h2>
<p>File-like objects are a concrete and very useful example of polymorphism in Python. A file-like object is a class (or the instance of a class) that acts like a file, i.e. it provides those methods a file object exposes.</p>
<p>Say for example that you code a class that parses an XML tree, and that you expect the XML code to be contained in a file. So your class accepts a file in its <code>__init__()</code> method, and reads the content from it</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">XMLReader</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="n">xmlfile</span><span class="p">):</span>
        <span class="n">xmlfile</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">xmlfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">xmlfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div>


<p>The class works well until your application shall be modified to receive XML content from a network stream. To use the class without modifying it you shall write the stream in a temporary file and load the latter, but this sounds a little overkill. So you plan to change the class to accept a string, but this way you shall change every single code that uses the class to read a file, since now you shall open, read and close the file on your own, outside the class.</p>
<p>Polymorphism offers a better way. Why not storing the incoming stream inside an object that <em>acts like</em> a file, even if it is not an actual one? If you check the <a href="https://docs.python.org/3/library/io.html"><code>io</code></a> module you will find that such an object has been already invented and provided in the standard Python library.</p>
<p>Other very useful file-like classes are those contained in the <code>gzip</code>, <code>bz2</code>, and <code>zipfile</code> modules (just to name some of the most used), which provide objects that allow you to manage compressed files just like plain files, hiding the decompression/compression machinery.</p>
<h2 id="unforgiveness">Unforgiveness<a class="headerlink" href="#unforgiveness" title="Permanent link">&para;</a></h2>
<p>EAFP is a Python acronym that stands for <em>easier to ask for forgiveness than permission</em>. This coding style is highly pushed in the Python community because it completely relies on the duck typing concept, thus fitting well with the language philosophy.</p>
<p>The concept behind EAFP is fairly easy: instead of checking if an object has a given attribute or method before actually accessing or using it, just trust the object to provide what you need and manage the error case. This can be probably better understood by looking at some code. According to EAFP, instead of writing</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">someobj</span><span class="p">,</span> <span class="s1">&#39;open&#39;</span><span class="p">):</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div>


<p>you shall write</p>
<div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">someobj</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div>


<p>As you can see, the second snippet directly uses the method and deals with the possible <code>AttributeError</code> exception (by the way: managing exceptions is one of the top Black Magic Topics in Python, more on it in a future post. A very quick preview: I think we may learn something from Erlang - check <a href="http://www.thedigitalcatonline.com/blog/2013/05/30/error-handling-in-erlang-a-primer/">this</a>).</p>
<p>Why is this coding style pushed so much in the Python community? I think the main reason is that through EAFP you <em>think</em> polymorphically: you are not interested in knowing if the object <em>has</em> the <code>open</code> attribute, you are interested in knowing if the object can satisfy your request, that is to perform the <code>open()</code> method call.</p>
<h2 id="updates">Updates<a class="headerlink" href="#updates" title="Permanent link">&para;</a></h2>
<p>2018-12-21: <a href="https://github.com/adriaanbd">Adriaan Beiertz</a> spotted an error in the <code>BooleanDoor</code> class. As the default status of the <code>Door</code> class is <code>closed</code>, the <code>BooleanDoor</code> should reflect this with a <code>False</code> status instead of a <code>True</code> one. Thanks Adriaan!</p>
<h2 id="movie-trivia">Movie Trivia<a class="headerlink" href="#movie-trivia" title="Permanent link">&para;</a></h2>
<p>Section titles come from the following movies: <em>Good Morning, Vietnam (1987)</em>, <em>Die Hard (1988)</em>, <em>Spies Like Us (1985)</em>, <em>Unforgiven (1992)</em>.</p>
<h2 id="sources">Sources<a class="headerlink" href="#sources" title="Permanent link">&para;</a></h2>
<p>You will find a lot of documentation in <a href="http://www.reddit.com/r/Python/comments/226ahl/some_links_about_python_oop/">this Reddit post</a>. Most of the information contained in this series come from those sources.</p>
<h2 id="feedback">Feedback<a class="headerlink" href="#feedback" title="Permanent link">&para;</a></h2>
<p>Feel free to use <a href="https://plus.google.com/u/0/111444750762335924049">the blog Google+ page</a> to comment the post. The <a href="http://github.com/TheDigitalCatOnline/thedigitalcatonline.github.com/issues">GitHub issues</a> page is the best place to submit corrections.</p>
    </section>

    <section id="related">

        <h1>Part 4 of the Python 3 OOP series</h1>
        <div class="box">
            <h5>Previous articles</h5>
            <ul>
                <li><a href="http://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-1-objects-and-types/">Python 3 OOP Part 1 - Objects and types</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-2-classes-and-members/">Python 3 OOP Part 2 - Classes and members</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-3-delegation-composition-and-inheritance/">Python 3 OOP Part 3 - Delegation: composition and inheritance</a></li>
            </ul>
        
            <h5>Next articles</h5>
            <ul>
                <li><a href="http://www.thedigitalcatonline.com/blog/2014/09/01/python-3-oop-part-5-metaclasses/">Python 3 OOP Part 5 - Metaclasses</a></li>
                <li><a href="http://www.thedigitalcatonline.com/blog/2014/09/04/python-3-oop-part-6-abstract-base-classes/">Python 3 OOP Part 6 - Abstract Base Classes</a></li>
            </ul>
        </div>
    </section>



    <!-- </article> -->

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
<div class="inner">
    <!-- Menu -->
        <nav id="menu">
            <header class="major">
                <h2>Menu</h2>
            </header>
<ul>
    <li><a href="http://www.thedigitalcatonline.com/index.html">Homepage</a></li>
    <li><a href="http://www.thedigitalcatonline.com/pages/about.html">About</a></li>
    <li><a href="http://www.thedigitalcatonline.com/archives/">Archives</a></li>
    <li>
        <span class="opener">Categories</span>
        <ul>
            <li><a href="http://www.thedigitalcatonline.com/category/programming/">Programming</a></li>
            <li><a href="http://www.thedigitalcatonline.com/category/projects/">Projects</a></li>
            <li><a href="http://www.thedigitalcatonline.com/category/retro/">Retro</a></li>
        </ul>
    </li>
</ul>        </nav>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Feeds</h2>
            </header>
<ul class="list-clean">
    <li><a href="http://www.thedigitalcatonline.com/atom.xml"><i class="fa fa-rss"></i> All posts</a></li>


    <li><a href="http://www.thedigitalcatonline.com/category/programming/atom.xml"><i class="fa fa-rss"></i> All posts in category: Programming</a></li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Tags</h2>
            </header>
<ul class="list-inline list-clean" id="tags-side">
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/algorithms/">algorithms</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/amiga/">amiga</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/amqp/">AMQP</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/architectures/">architectures</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/assembly/">assembly</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/c/">C</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/clojure/">Clojure</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/compilers/">compilers</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/concurrent-programming/">concurrent programming</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/cryptography/">cryptography</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/decorators/">decorators</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/django/">Django</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/erlang/">Erlang</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/functional-programming/">functional programming</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/generators/">generators</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/git/">Git</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/m68000/">M68000</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/metaclasses/">metaclasses</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/metaprogramming/">metaprogramming</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/notebook/">Notebook</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/oop/">OOP</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/operating-systems/">operating systems</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/pika/">Pika</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/postage/">Postage</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/python/">Python</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/python2/">Python2</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/python3/">Python3</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/rabbitmq/">RabbitMQ</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/refactoring/">refactoring</a>
    </li>
    <li class="tag font-size-2">
        <a href="http://www.thedigitalcatonline.com/categories/retroprogramming/">retroprogramming</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/rsa/">RSA</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/scala/">Scala</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/ssh/">SSH</a>
    </li>
    <li class="tag font-size-4">
        <a href="http://www.thedigitalcatonline.com/categories/ssl/">SSL</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/tdd/">TDD</a>
    </li>
    <li class="tag font-size-1">
        <a href="http://www.thedigitalcatonline.com/categories/testing/">testing</a>
    </li>
    <li class="tag font-size-3">
        <a href="http://www.thedigitalcatonline.com/categories/versioning/">versioning</a>
    </li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Recent posts</h2>
            </header>
<div class="mini-posts">
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/03/04/motorola-68000-addressing-modes/" class="image"><img src="/images/mc68000.jpg" alt="" /></a>
        <p><strong>Motorola 68000: addressing modes</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/03/04/motorola-68000-addressing-modes/">Read</a></p> 
    </article>
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/" class="image"><img src="/images/exploring-the-amiga-8.jpg" alt="" /></a>
        <p><strong>Exploring the Amiga - Part 8</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/">Read</a></p> 
    </article>
    <article>
        <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/" class="image"><img src="/images/exploring-the-amiga-7.jpg" alt="" /></a>
        <p><strong>Exploring the Amiga - Part 7</strong> <a href="http://www.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/">Read</a></p> 
    </article>
</div>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Get in touch</h2>
            </header>
<ul class="contact">
    
    
    
    <li class="fa-twitter"><a href="https://twitter.com/thedigicat">Twitter</a></li>
    
    
    
    
    <li class="fa-github"><a href="https://github.com/TheDigitalCatOnline">GitHub</a></li>
    
</ul>        </section>

    <!-- Footer -->
        <footer id="footer">
            <p class="copyright">Editorial theme by: <a href="https://html5up.net">HTML5 UP</a>.</p>
            <p class="copyright">Cover picture by: <a href="https://pxhere.com/en/photo/1428515">An Min @ pxhere.com</a></p>
        </footer>

</div>					</div>

			</div>

		<!-- Scripts -->
			<script src="http://www.thedigitalcatonline.com/theme/js/jquery.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/browser.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/breakpoints.min.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/util.js"></script>
			<script src="http://www.thedigitalcatonline.com/theme/js/main.js"></script>

	</body>
</html>